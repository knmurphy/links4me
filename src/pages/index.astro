---
// src/pages/index.astro
import { getEntry } from 'astro:content';
import Link from '../components/Link.astro';
import Profile from '../components/Profile.astro';

const page = await getEntry('pages', 'index');
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>{page.data.title}</title>
  </head>
  <body style={`background-color: ${page.data.backgroundColor}; color: ${page.data.textColor};`}>
    <main>
      <Profile 
        title={page.data.title}
        description={page.data.description}
        profileImage={page.data.profileImage}
      />
      <ul class="links-list">
        {page.data.links.map((link) => (
          <Link 
            title={link.title}
            url={link.url}
            icon={link.icon}
            backgroundColor={link.backgroundColor}
            textColor={link.textColor}
          />
        ))}
      </ul>
    </main>
  </body>
</html>

<style>
  main {
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
  }
  .links-list {
    list-style-type: none;
    padding: 0;
  }
</style>